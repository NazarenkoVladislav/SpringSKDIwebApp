<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Аттестация</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body>
<header th:insert="blocks/header :: header"></header>

<div class="container mt-5" th:each="el : ${post}">
    <table class="table">
        <tbody>
        <tr>
            <td class="text-center" colspan="2"><b><h2 th:text="|${el.surname} ${el.name} ${el.patronymic}|"></h2></b></td>
        </tr>
        <tr>
            <td><p><b>Должность</b></p></td>
            <td><p th:text="${el.position}"></p></td>
        </tr>
        <tr>
            <td><p><b>Категория профессии</b></p></td>
            <td><p th:text="${el.professionCategory}"></p></td>
        </tr>
        <tr>
            <td><p><b>Служба</b></p></td>
            <td><p th:text="${el.department}"></p></td>
        </tr>
        <tr>
            <td><p><b>Структурное подразделение</b></p></td>
            <td><p th:text="${el.structureUnit}"></p></td>
        </tr>
        <tr>
            <td><p><b>Последний протокол</b></p></td>
            <td><p th:text="|${el.numFirstprotocol} от ${#dates.format(el.dateFirstprotocol, 'dd.MM.yyyy')}|"></p>
            </td>
        </tr>
        <tr th:if="${!#strings.isEmpty(el.a1_firstprotocol)}">
            <td><p>Удостоверение А.1.</p></td>
            <td><p th:text="${el.a1_firstprotocol}"></p>
            </td>
        </tr>
        <tr th:if="${!#strings.isEmpty(el.b83_firstprotocol)}">
            <td><p>Удостоверение Б.8.3.</p></td>
            <td><p th:text="${el.b83_firstprotocol}"></p>
            </td>
        </tr>
        <tr th:if="${!#strings.isEmpty(el.b93_firstprotocol)}">
            <td><p>Удостоверение Б.9.3.</p></td>
            <td><p th:text="${el.b93_firstprotocol}"></p>
            </td>
        </tr>
        <tr  th:if="${!#strings.isEmpty(el.numSecondprotocol)}">
            <td><p><b>Предыдущий протокол</b></p></td>
            <td><p th:text="|${el.numSecondprotocol} от ${#dates.format(el.dateSecondprotocol, 'dd.MM.yyyy')}|"></p>
            </td>
        </tr>
        <tr th:if="${!#strings.isEmpty(el.a1_secondprotocol)}">
            <td><p>Удостоверение А.1.</p></td>
            <td><p th:text="${el.a1_secondprotocol}"></p>
            </td>
        </tr>
        <tr th:if="${!#strings.isEmpty(el.b83_secondprotocol)}">
            <td><p>Удостоверение Б.8.3.</p></td>
            <td><p th:text="${el.b83_secondprotocol}"></p>
            </td>
        </tr>
        <tr th:if="${!#strings.isEmpty(el.b93_secondprotocol)}">
            <td><p>Удостоверение Б.9.3.</p></td>
            <td><p th:text="${el.b93_secondprotocol}"></p>
            </td>
        </tr>
        <tr>
            <td><p><b>Дата предаттестационной подготовки</b></p></td>
            <td><p th:text="${el.datePreparation}"></p>
            </td>
        </tr>


        <tr th:if="${authuser.isAdmin()}">
            <td>
                <a th:if="${authuser.isAdmin()}" th:href="|/attestation/${el.id}/edit|" class="btn btn-warning">Редактировать</a>
            </td>
            <td>
                <form th:if="${authuser.isAdmin()}" th:action="|/attestation/${el.id}/remove|" method="post">
                    <button class="btn btn-warning" type="submit">Удалить</button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>

</div>

<div th:insert="blocks/footer :: footer"></div>

</body>
</html>